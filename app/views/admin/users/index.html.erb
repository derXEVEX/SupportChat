<div class="admin-container">
  <div class="admin-header">
    <div>
      <h1 class="admin-title">Benutzerverwaltung</h1>
      <p class="admin-subtitle">Hier kannst du alle Benutzer verwalten</p>
    </div>
    <div class="admin-actions">
      <%= link_to "Zurück zum Dashboard", dashboard_path, class: "admin-btn admin-btn-secondary" %>
    </div>
  </div>

  <% if flash[:alert] %>
    <div class="admin-alert admin-alert-error">
      <%= flash[:alert] %>
    </div>
  <% end %>

  <% if flash[:notice] %>
    <div class="admin-alert admin-alert-success">
      <%= flash[:notice] %>
    </div>
  <% end %>

  <table class="admin-table">
    <thead>
    <tr>
      <th>ID</th>
      <th>Name</th>
      <th>E-Mail</th>
      <th>Rolle</th>
      <th>Erstellt am</th>
      <th>Aktionen</th>
    </tr>
    </thead>
    <tbody>
    <% @users.each do |user| %>
      <tr>
        <td><%= user.id %></td>
        <td><%= user.name %></td>
        <td><%= user.email %></td>
        <td><span class="user-role role-<%= user.role %>"><%= user.role.capitalize %></span></td>
        <td><%= user.created_at.strftime("%d.%m.%Y") %></td>
        <td>
          <div class="action-links">
            <%= link_to "Anzeigen", admin_user_path(user), class: "action-link view-link" %>
            <%= link_to "Bearbeiten", edit_admin_user_path(user), class: "action-link edit-link" %>
            <%= button_to "Löschen", admin_user_path(user), method: :delete,
                          data: { confirm: "Bist du sicher, dass du diesen Benutzer löschen möchtest?" },
                          class: "action-link delete-link" unless user == current_user %>
          </div>
        </td>
      </tr>
    <% end %>
    </tbody>
  </table>
</div>
